{% extends 'layout.server.view.html' %}

{% block content %}

<div>
	<h2><a href='/agents/{{agent._id.toString()}}'>{{agent.firstName}} {{agent.lastName}}</a></h2>


  <div class="panel panel-default">
    <div class="panel-heading">My Customers</div>
    <table class="table table-hover">
      <tr>
        <th>Name</th>
        <th>Email</th> 
        <th>Phone Number</th>
      </tr>

      {% for customer in customers %}
      <tr>
        <td><a href='/agents/{{agent._id.toString()}}/customers/{{customer._id.toString()}}'>{{customer.firstName}} {{customer.lastName}}</a></td>
        <td>{{customer.email}}</td> 
        <td>{{customer.phoneNumber}}</td>
      </tr>
      {% endfor %}
    </table>
  </div>


<div>
  <form name="newCustomerForm" action="/agents/{{agent._id.toString()}}/customers/add" method="post">
    <fieldset>
      <h3>Add a New Customer: </h3>
      <div class="form-group">
        <label for="firstName">First Name: </label>
        <input class="form-control" type="text" id="firstName" name="firstName" required>
      </div>
      <div class="form-group">
        <label for="firstName">Last Name: </label>
        <input class="form-control" type="text" id="lastName" name="lastName" required>
      </div>
      <div class="form-group">
        <label for="email">Email: </label>
        <input class="form-control" type="text" id="email" name="email" required>
      </div>
      <div class="form-group">
        <label for="phoneNumber">Phone: </label>
        <input class="form-control" type="text" id="phoneNumber" name="phoneNumber" required>
      </div>
      <div class="form-group">
        <button class="btn btn-default" type="submit">Add Customer</button>
      </div>
    </fieldset>
  </form>
</div>


{% endblock %}
